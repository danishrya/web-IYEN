<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco-build Check - Verifikasi Ekologis Bangunan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2d7a3e;
            --primary-light: #42a158;
            --primary-dark: #1f5630;
            --accent-orange: #e67e22;
            --accent-brown: #8b4513;
            --bg-light: #f5f7f6;
            --text-dark: #1a1a1a;
            --text-gray: #666;
            --border: #e0e0e0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR */
        .sidebar {
            width: 280px;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            color: white;
            padding: 30px 20px;
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 40px;
            font-size: 20px;
            font-weight: bold;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-item {
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .nav-item.active {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: white;
        }

        .sidebar-footer {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            font-size: 12px;
            opacity: 0.8;
            text-align: center;
        }

        /* MAIN CONTENT */
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* SPLASH SCREEN */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            flex-direction: column;
            gap: 30px;
        }

        .splash-content {
            text-align: center;
            position: relative;
        }

        .splash-ornaments {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .ornament {
            position: absolute;
            font-size: 3rem;
            opacity: 0.8;
        }

        .ornament:nth-child(1) { top: 10%; left: 10%; animation: spin 4s linear infinite; }
        .ornament:nth-child(2) { top: 10%; right: 10%; animation: sway 3s ease-in-out infinite; }
        .ornament:nth-child(3) { bottom: 10%; left: 10%; animation: float 3.5s ease-in-out infinite; }
        .ornament:nth-child(4) { bottom: 10%; right: 10%; animation: bounce 2s ease-in-out infinite; }
        .ornament:nth-child(5) { top: 50%; left: 5%; animation: pulse 2.5s ease-in-out infinite; }
        .ornament:nth-child(6) { top: 50%; right: 5%; animation: sway 4s ease-in-out infinite; }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes sway { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(20px); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .splash-icon {
            font-size: 5rem;
            animation: bounce 2s ease-in-out infinite;
            margin-bottom: 20px;
        }

        .splash-title {
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .splash-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
        }

        .loading-dots {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 30px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: white;
            animation: bounce 1.4s infinite;
        }

        .dot:nth-child(2) { animation-delay: 0.2s; }
        .dot:nth-child(3) { animation-delay: 0.4s; }

        /* DASHBOARD */
        .dashboard-header {
            margin-bottom: 40px;
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .dashboard-subtitle {
            font-size: 1.1rem;
            color: var(--text-gray);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .stat-label {
            color: var(--text-gray);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-subtext {
            font-size: 0.85rem;
            color: var(--text-gray);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .feature-desc {
            color: var(--text-gray);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* FORM SECTIONS */
        .form-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
        }

        .form-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: var(--text-dark);
            border-bottom: 2px solid var(--primary);
            padding-bottom: 15px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(42, 122, 62, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(42, 122, 62, 0.3);
        }

        .btn-secondary {
            background-color: #f0f0f0;
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* CHAT */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 600px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--primary) 100%);
            color: white;
            padding: 20px;
            text-align: center;
            font-weight: bold;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            display: flex;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 10px;
            line-height: 1.5;
        }

        .message.assistant .message-content {
            background-color: var(--bg-light);
            color: var(--text-dark);
        }

        .message.user .message-content {
            background-color: var(--primary);
            color: white;
        }

        .chat-input-area {
            padding: 15px;
            background: #fafafa;
            display: flex;
            gap: 10px;
            border-top: 1px solid var(--border);
        }

        .chat-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-family: inherit;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .suggestion-btn {
            padding: 8px 15px;
            background: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .suggestion-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
                padding: 15px 8px;
            }

            .main-content {
                margin-left: 60px;
                padding: 20px;
            }

            .sidebar-header {
                margin-bottom: 30px;
                flex-direction: column;
                gap: 5px;
            }

            .nav-item {
                padding: 10px;
                justify-content: center;
                font-size: 0;
            }

            .nav-item::before {
                content: attr(data-icon);
                font-size: 1.5rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .chat-container {
                height: 400px;
            }

            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <!-- SPLASH SCREEN -->
    <div id="splashScreen" class="splash-screen">
        <div class="splash-ornaments">
            <div class="ornament">üè†</div>
            <div class="ornament">üçÉ</div>
            <div class="ornament">‚òÄÔ∏è</div>
            <div class="ornament">üåø</div>
            <div class="ornament">üíß</div>
            <div class="ornament">üåª</div>
        </div>
        <div class="splash-content">
            <div class="splash-icon">üå±</div>
            <h1 class="splash-title">Eco-build Check</h1>
            <p class="splash-subtitle">Platform Verifikasi Ekologis Bangunan</p>
            <div class="loading-dots">
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>
        </div>
    </div>

    <!-- MAIN APP -->
    <div class="container">
        <!-- SIDEBAR -->
        <div class="sidebar">
            <div class="sidebar-header">
                <span>üå±</span>
                <span>Eco-build</span>
            </div>

            <div class="sidebar-nav">
                <div class="nav-item active" onclick="showPage('dashboard')" data-icon="üìä">Dashboard</div>
                <div class="nav-item" onclick="showPage('carbon')" data-icon="üí®">Kalkulator Karbon</div>
                <div class="nav-item" onclick="showPage('land')" data-icon="üè°">Verifikasi Lahan</div>
                <div class="nav-item" onclick="showPage('material')" data-icon="üß±">Material</div>
                <div class="nav-item" onclick="showPage('rating')" data-icon="üìà">Eco-Rate</div>
                <div class="nav-item" onclick="showPage('chat')" data-icon="üí¨">Chat</div>
            </div>

            <div class="sidebar-footer">Mendukung SDGs 11 & 13</div>
        </div>

        <!-- MAIN CONTENT -->
        <div class="main-content">
            <!-- DASHBOARD PAGE -->
            <div id="dashboard" class="page active">
                <div class="dashboard-header">
                    <h1 class="dashboard-title">Selamat Datang di Eco-build Check</h1>
                    <p class="dashboard-subtitle">Platform verifikasi ekologis untuk membuat bangunan yang lebih berkelanjutan</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Target Emisi</div>
                        <div class="stat-value" style="color: var(--primary);">1000</div>
                        <div class="stat-subtext">Ton CO2/Tahun</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Pengguna Aktif</div>
                        <div class="stat-value" style="color: var(--accent-orange);">2.5K</div>
                        <div class="stat-subtext">Bergabung</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Material Pilihan</div>
                        <div class="stat-value" style="color: var(--accent-brown);">150+</div>
                        <div class="stat-subtext">Berkelanjutan</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Proyek Terverifikasi</div>
                        <div class="stat-value" style="color: var(--primary-light);">850+</div>
                        <div class="stat-subtext">Selesai</div>
                    </div>
                </div>

                <div class="features-grid">
                    <div class="feature-card" onclick="showPage('carbon')">
                        <div class="feature-icon">üí®</div>
                        <div class="feature-title">Kalkulator Jejak Karbon</div>
                        <div class="feature-desc">Hitung intensitas konsumsi energi dan jejak karbon operasional per tahun</div>
                    </div>
                    <div class="feature-card" onclick="showPage('land')">
                        <div class="feature-icon">üè°</div>
                        <div class="feature-title">Verifikasi Tepat Guna Lahan</div>
                        <div class="feature-desc">Hitung rasio RTH dan rekomendasi sumur resapan untuk lokasi Anda</div>
                    </div>
                    <div class="feature-card" onclick="showPage('material')">
                        <div class="feature-icon">üß±</div>
                        <div class="feature-title">Database Material Ramah Lingkungan</div>
                        <div class="feature-desc">Temukan material berkelanjutan lokal dengan data carbon footprint lengkap</div>
                    </div>
                    <div class="feature-card" onclick="showPage('rating')">
                        <div class="feature-icon">üìà</div>
                        <div class="feature-title">Eco-Rate Score System</div>
                        <div class="feature-desc">Dapatkan skor evaluasi komprehensif untuk desain bangunan berkelanjutan Anda</div>
                    </div>
                    <div class="feature-card" onclick="showPage('chat')">
                        <div class="feature-icon">üí¨</div>
                        <div class="feature-title">Eco Assistant Chat</div>
                        <div class="feature-desc">Tanya jawab dengan AI assistant tentang desain bangunan berkelanjutan</div>
                    </div>
                </div>
            </div>

            <!-- CARBON CALCULATOR PAGE -->
            <div id="carbon" class="page">
                <div class="form-section">
                    <div class="form-title">üí® Kalkulator Jejak Karbon</div>
                    
                    <div class="form-group">
                        <label class="form-label">Jenis Bangunan</label>
                        <select class="form-select" id="buildingType">
                            <option>Rumah Tinggal</option>
                            <option>Kantor</option>
                            <option>Ritel</option>
                            <option>Hotel</option>
                            <option>Sekolah</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Luas Bangunan (m¬≤)</label>
                        <input type="number" class="form-input" id="buildingArea" placeholder="Masukkan luas bangunan" value="100">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Konsumsi Listrik (kWh/bulan)</label>
                        <input type="number" class="form-input" id="electricityUsage" placeholder="Masukkan konsumsi listrik" value="800">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Konsumsi Air (m¬≥/bulan)</label>
                        <input type="number" class="form-input" id="waterUsage" placeholder="Masukkan konsumsi air" value="50">
                    </div>

                    <button class="btn btn-primary" onclick="calculateCarbon()">Hitung Jejak Karbon</button>

                    <div id="carbonResult" style="margin-top: 30px; padding: 20px; background: var(--bg-light); border-radius: 8px; display: none;">
                        <h3 style="margin-bottom: 15px; color: var(--primary);">Hasil Perhitungan</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div>
                                <p style="font-size: 0.9rem; color: var(--text-gray);">Total Emisi Tahunan</p>
                                <p style="font-size: 1.8rem; font-weight: bold; color: var(--accent-orange);" id="totalEmission">0</p>
                                <p style="font-size: 0.85rem; color: var(--text-gray);">Ton CO2/Tahun</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem; color: var(--text-gray);">Estimasi Potensi Pengurangan</p>
                                <p style="font-size: 1.8rem; font-weight: bold; color: var(--primary);" id="reductionPotential">0%</p>
                                <p style="font-size: 0.85rem; color: var(--text-gray);">Dengan design pasif</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- LAND VERIFICATION PAGE -->
            <div id="land" class="page">
                <div class="form-section">
                    <div class="form-title">üè° Verifikasi Tepat Guna Lahan</div>
                    
                    <div class="form-group">
                        <label class="form-label">Luas Lahan Total (m¬≤)</label>
                        <input type="number" class="form-input" id="landArea" placeholder="Masukkan luas lahan" value="500">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Luas Bangunan Terbangun (m¬≤)</label>
                        <input type="number" class="form-input" id="buildingBuiltArea" placeholder="Masukkan luas terbangun" value="200">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Kondisi Curah Hujan (mm/tahun)</label>
                        <input type="number" class="form-input" id="rainfall" placeholder="Masukkan curah hujan" value="3000">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Jenis Tanah</label>
                        <select class="form-select" id="soilType">
                            <option>Lempung</option>
                            <option>Pasir</option>
                            <option>Lempung Berpasir</option>
                            <option>Tanah Liat</option>
                        </select>
                    </div>

                    <button class="btn btn-primary" onclick="calculateLand()">Verifikasi Lahan</button>

                    <div id="landResult" style="margin-top: 30px; padding: 20px; background: var(--bg-light); border-radius: 8px; display: none;">
                        <h3 style="margin-bottom: 15px; color: var(--primary);">Hasil Verifikasi</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div>
                                <p style="font-size: 0.9rem; color: var(--text-gray);">Rasio RTH Minimum</p>
                                <p style="font-size: 1.8rem; font-weight: bold; color: var(--primary);" id="rthRatio">0%</p>
                                <p style="font-size: 0.85rem; color: var(--text-gray);">Dari luas lahan</p>
                            </div>
                            <div>
                                <p style="font-size: 0.9rem; color: var(--text-gray);">Rekomendasi Sumur Resapan</p>
                                <p style="font-size: 1.8rem; font-weight: bold; color: var(--accent-orange);" id="wellCount">0</p>
                                <p style="font-size: 0.85rem; color: var(--text-gray);">Buah</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MATERIAL DATABASE PAGE -->
            <div id="material" class="page">
                <div class="form-section">
                    <div class="form-title">üß± Database Material Ramah Lingkungan</div>
                    
                    <div class="form-group">
                        <label class="form-label">Filter Material</label>
                        <select class="form-select" id="materialFilter" onchange="filterMaterials()">
                            <option value="">Semua Material</option>
                            <option value="bata">Bata Lokal</option>
                            <option value="bamboo">Bambu</option>
                            <option value="kayu">Kayu Berkelanjutan</option>
                            <option value="beton">Beton Daur Ulang</option>
                        </select>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;" id="materialList">
                        <!-- Materials will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- ECO-RATE PAGE -->
            <div id="rating" class="page">
                <div class="form-section">
                    <div class="form-title">üìà Eco-Rate Score System</div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;" id="ratingScores">
                        <!-- Ratings will be inserted here -->
                    </div>

                    <div style="background: var(--bg-light); padding: 20px; border-radius: 8px; text-align: center;">
                        <p style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 10px;">Total Eco Score</p>
                        <p style="font-size: 3rem; font-weight: bold; color: var(--primary);" id="totalScore">75/100</p>
                        <p style="font-size: 0.95rem; color: var(--text-gray); margin-top: 10px;">Desain Anda termasuk kategori Good (Baik)</p>
                    </div>
                </div>
            </div>

            <!-- CHAT PAGE -->
            <div id="chat" class="page">
                <div class="form-section">
                    <div class="form-title">üí¨ Eco Assistant Chat</div>
                    
                    <div class="chat-container">
                        <div class="chat-header">Tanya kepada Eco Assistant</div>
                        <div class="chat-messages" id="chatMessages">
                            <div class="message assistant">
                                <div class="message-content">Halo! üëã Saya Eco Assistant. Tanyakan apa saja tentang desain bangunan berkelanjutan, material ramah lingkungan, atau cara mengurangi jejak karbon.</div>
                            </div>
                        </div>
                        <div class="chat-input-area">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Ketik pertanyaan Anda..." onkeypress="handleChatKeypress(event)">
                            <button class="btn btn-primary" onclick="sendChatMessage()">Kirim</button>
                        </div>
                    </div>

                    <div class="suggestions" style="margin-top: 20px;">
                        <button class="suggestion-btn" onclick="sendPredefinedMessage('Apa material terbaik untuk bangunan berkelanjutan?')">üí¨ Material Berkelanjutan</button>
                        <button class="suggestion-btn" onclick="sendPredefinedMessage('Bagaimana cara mengurangi jejak karbon bangunan?')">üí® Kurangi Emisi</button>
                        <button class="suggestion-btn" onclick="sendPredefinedMessage('Apa itu design pasif dalam bangunan?')">üè† Design Pasif</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Hide splash screen after 3 seconds
        setTimeout(() => {
            document.getElementById('splashScreen').style.display = 'none';
        }, 3000);

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });

            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Show selected page
            document.getElementById(pageId).classList.add('active');

            // Add active class to clicked nav item
            event.target.classList.add('active');

            // Initialize page-specific content
            if (pageId === 'material') {
                renderMaterials();
            } else if (pageId === 'rating') {
                renderRatings();
            }
        }

        function calculateCarbon() {
            const area = parseFloat(document.getElementById('buildingArea').value) || 100;
            const electricity = parseFloat(document.getElementById('electricityUsage').value) || 800;
            const water = parseFloat(document.getElementById('waterUsage').value) || 50;

            // Simple calculation
            const electricityEmission = (electricity * 12 * 0.0005); // kg CO2
            const waterEmission = (water * 12 * 0.2); // kg CO2
            const totalEmission = (electricityEmission + waterEmission) / 1000; // Ton CO2
            const reduction = 35;

            document.getElementById('totalEmission').textContent = totalEmission.toFixed(2);
            document.getElementById('reductionPotential').textContent = reduction + '%';
            document.getElementById('carbonResult').style.display = 'block';
        }

        function calculateLand() {
            const landArea = parseFloat(document.getElementById('landArea').value) || 500;
            const builtArea = parseFloat(document.getElementById('buildingBuiltArea').value) || 200;
            const rainfall = parseFloat(document.getElementById('rainfall').value) || 3000;

            const rthRequired = (landArea - builtArea) / landArea * 100;
            const wellCount = Math.ceil(rainfall / 500);

            document.getElementById('rthRatio').textContent = rthRequired.toFixed(1) + '%';
            document.getElementById('wellCount').textContent = wellCount;
            document.getElementById('landResult').style.display = 'block';
        }

        const materials = [
            { name: 'Bata Merah Lokal', type: 'bata', carbon: '0.3 kg CO2/unit', price: 'Rp 500', eco: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê' },
            { name: 'Bambu Konstruksi', type: 'bamboo', carbon: '0.05 kg CO2/m', price: 'Rp 150k/m', eco: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê' },
            { name: 'Kayu FSC Certified', type: 'kayu', carbon: '0.8 kg CO2/m¬≥', price: 'Rp 5jt/m¬≥', eco: '‚≠ê‚≠ê‚≠ê‚≠ê' },
            { name: 'Beton Daur Ulang', type: 'beton', carbon: '0.15 kg CO2/unit', price: 'Rp 800', eco: '‚≠ê‚≠ê‚≠ê‚≠ê' },
            { name: 'Batu Bata Ringan', type: 'bata', carbon: '0.2 kg CO2/unit', price: 'Rp 600', eco: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê' },
            { name: 'Anyaman Bambu', type: 'bamboo', carbon: '0.02 kg CO2/m¬≤', price: 'Rp 50k/m¬≤', eco: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê' }
        ];

        function renderMaterials() {
            const container = document.getElementById('materialList');
            const filter = document.getElementById('materialFilter').value;
            const filtered = filter ? materials.filter(m => m.type === filter) : materials;

            container.innerHTML = filtered.map(mat => `
                <div class="feature-card">
                    <div style="font-size: 1.5rem; margin-bottom: 10px;">üß±</div>
                    <div style="font-weight: bold; margin-bottom: 8px;">${mat.name}</div>
                    <div style="font-size: 0.85rem; color: var(--text-gray); margin-bottom: 10px;">
                        Carbon: ${mat.carbon}<br>
                        Harga: ${mat.price}
                    </div>
                    <div style="margin-top: 10px;">Eco Rating: ${mat.eco}</div>
                </div>
            `).join('');
        }

        function filterMaterials() {
            renderMaterials();
        }

        function renderRatings() {
            const ratings = [
                { label: 'Energi', score: 85, icon: '‚ö°' },
                { label: 'Material', score: 75, icon: 'üß±' },
                { label: 'Air', score: 80, icon: 'üíß' },
                { label: 'Lahan', score: 70, icon: 'üåç' },
                { label: 'Emisi', score: 65, icon: 'üí®' }
            ];

            const container = document.getElementById('ratingScores');
            container.innerHTML = ratings.map(rating => `
                <div style="background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;">
                    <div style="font-size: 1.5rem; margin-bottom: 10px;">${rating.icon}</div>
                    <div style="font-size: 0.9rem; color: var(--text-gray); margin-bottom: 8px;">${rating.label}</div>
                    <div style="font-size: 1.8rem; font-weight: bold; color: var(--primary);">${rating.score}/100</div>
                </div>
            `).join('');
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage('user', message);
            input.value = '';

            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage('assistant', response);
            }, 500);
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function sendPredefinedMessage(message) {
            document.getElementById('chatInput').value = message;
            sendChatMessage();
        }

        function addMessage(sender, text) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<div class="message-content">${text}</div>`;
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function generateAIResponse(message) {
            const lowerMsg = message.toLowerCase();

            if (lowerMsg.includes('material') || lowerMsg.includes('bahan')) {
                return 'Material berkelanjutan seperti bambu, kayu FSC certified, dan bata lokal adalah pilihan terbaik. Mereka memiliki carbon footprint rendah dan biasanya tersedia secara lokal di Indonesia. Anda bisa melihat detail di menu Material Database kami! üß±';
            } else if (lowerMsg.includes('karbon') || lowerMsg.includes('emisi')) {
                return 'Cara mengurangi jejak karbon: 1) Gunakan energi terbarukan (solar panel), 2) Optimasi design pasif (ventilasi alami, insulasi), 3) Pilih material lokal, 4) Kelola limbah konstruksi. Coba Kalkulator Jejak Karbon kami untuk hasil spesifik! üí®';
            } else if (lowerMsg.includes('design pasif') || lowerMsg.includes('passive')) {
                return 'Design pasif memanfaatkan kondisi alam: pencahayaan alami, ventilasi silang, thermal mass, dan orientasi bangunan. Ini mengurangi kebutuhan AC dan pemanas hingga 30-50%! üè†';
            } else if (lowerMsg.includes('lahan') || lowerMsg.includes('rth')) {
                return 'RTH (Ruang Terbuka Hijau) minimum adalah 30% dari luas lahan. Ini penting untuk drainase, kualitas udara, dan kenyamanan termal. Gunakan Verifikasi Lahan kami untuk detail spesifik lokasi Anda! üåç';
            } else if (lowerMsg.includes('air') || lowerMsg.includes('drainase')) {
                return 'Sistem drainase berkelanjutan: sumur resapan, bioswale, rain garden. Ini mengurangi banjir dan mengisi ulang air tanah. Rekomendasi spesifik dapat dilihat di fitur Verifikasi Lahan! üíß';
            } else {
                return 'Pertanyaan yang bagus! Saya adalah AI assistant khusus sustainability bangunan. Tanyakan tentang material ramah lingkungan, cara kurangi emisi karbon, design pasif, atau verifikasi lahan. Apa yang bisa saya bantu? üòä';
            }
        }
    </script>
</body>
</html>
